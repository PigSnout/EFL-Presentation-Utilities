# EFL-Presentation-Utilities

## Links
- [Thread Creator](https://pigsnout.github.io/EFL-Presentation-Utilities/thread_creator.html)
- [Play By Play Format Fixer](https://pigsnout.github.io/EFL-Presentation-Utilities/play_by_play_format_fixer.html)
- [Single Post Formatter](https://pigsnout.github.io/EFL-Presentation-Utilities/single_post_formatter.html)
- [Out of Town Scores Generator](https://pigsnout.github.io/EFL-Presentation-Utilities/out_of_town_scores_generator.html)
- [Boxscores Generator](https://pigsnout.github.io/EFL-Presentation-Utilities/boxscores_generator.html)

## Purpose

The purpose of these tools are to help automate the formatting for certain posts you may make during an EFL Presentation. This will enable you to use fancier formatting for presentation posts while reducing the amount of time it would take to add the additional formatting. Even if you don't plan on using the other formatting tools, I would at least recommend running your Play By Play text through the Play By Play Format Fixer in order to make it more easily readable. For more information about the purposes of the individual tools, check their sections down below.

## How to Use

The sections below will describe the specifics for using each tool. Generally, you will fill in the inputs from each page and then you will click the Generate Output button to receive the output that you can use on the EFL forum. For the Play By Play Format Fixer, the output will be given as regular text. For the other tools, the output will be given as formatted HTML code. In order to use this, you can copy the code from the Output box, then go to the EFL forum where you want to make your post. You can then click the button that says Source (this should be in the top left of the new post input box, to the left of the bold icon) and then paste the code into the post and then click the Source button again. After this you should see the post properly formatted and from there you can use the regular post editing tools if you want to make any other modifications or else you can go ahead and post it. 

## Thread Creator

### Purpose

The Thread Creator allows you to create a formatted post that you can use when creating the thread for a presentation. The post will display all of the matchups and will list the expected time and the presenter.

### Inputs

- `League`: Specify which league the presentation is for. This will determine the game and team options that are provided below.
- `Season`: The numerical value of the current season.
- `Game`: The name of the game that is being presented. Either a week of the regular season or the name of a playoff game.
- `Date`: The date of the presentation. Defaults to the current date, but you can modify the written value or select a new date from the calendar.
- `Presenter`: The name of the presenter who is presenting the game.
- `Time`: The time when the game will be presented.
- `Number of Games`: The number of games for this presentation. The number of selections below will adjust when this value is updated.
- `Away Team #X`: The away team for game #X.
- `Home Team #X`: The home team for game #X.
- `Game of the Week Away Team`: The away team for the Game of the Week.
- `Game of the Week Home Team`: The home team for the Game of the Week.

### How to Use

Fill in each of the inputs with the value specified above and then click Generate Output. Copy the output from the Output box. Go to the EFL Gameday or ECFA Gameday section on the forum depending on which league you are presenting for and click Start new topic. Click the Source button and paste the output that you copied earlier into the post and then click the Source button again to see the formatted version of the post. You can copy the first line of text and use that as the thread title. You may also want to edit the presenter name to be in @[username] format so that it links to your profile (This part could not be automated because the link to the profile includes a number as well and the code wouldn't be able to determine this number just by having the username). Once you are satisfied, you can click Submit Topic to create the topic.

### Demo

https://user-images.githubusercontent.com/89674834/197662821-1abeb88e-e5c4-4eb7-b44b-287a636d1ff4.mp4

## Play By Play Format Fixer

### Purpose

There are several formatting issues present in the Play By Plays that are generated by the sim engine and this tool will clean up the Play By Play by fixing these issues. The main issue this resolves is that the Play By Play does not include spaces in several places where it should have spaces which can make it less easily readable. For example, the text generated by the Play by Play may include a line like this: 
```
6:204th and 3SEA - 724 yard FG by Leonidas, K. is good.
```
When with proper spacing it should look like this: 
```
6:20 4th and 3 SEA - 7 24 yard FG by Leonidas, K. is good.
```

This tool will go through and fix the spacing in every line of the Play By Play. 

The other issue resolved here is that the Play By Play displays incorrect timestamps at certain points when clock stoppages occur, such as a timeout, a spike, or a turnover on downs. This issue is because the timestamps on the Play By Play correspond to the time on the clock at the start of the play. However, the timestamp on the three mentioned moments will correspond to the play before the clock stoppage. But this is not correct because it is showing the time on the clock when the play starts and not the time on the clock after the play completes and the clock is stopped. Here is an example with a timeout.

```
2:122nd and 7SEA - 34Pass by Marteau, T., complete to Kavanagh, J. for 5 yds. Tackle by Hakora, R..
2:123rd and 2SEA - 39Seattle Predators : Timeout
1:513rd and 2SEA - 39Pass by Marteau, T., complete to Fourside, T. for -2 yds. Tackle by Backer, J..
```

In this example, it shows that there is 2:12 remaining on the clock when the timeout was called. However, this is incorrect because 2:12 is the amount of time that was on the clock when the 2nd down play started which would imply that no time passed during the play. And then there is 1:51 on the clock when the 3rd down starts, which makes it look like 21 seconds disappeared during the timeout. The reality is that 1:51 is the amount of time left on the clock at the end of the 2nd down play because this is the time left on the clock at the start of the 3rd down play after the timeout. So there was actually 1:51 on the clock when the timeout was called and that is the time value that should be reflected in the Play By Play. This inconsistency in the Play By Play can make late game clock management situations confusing for viewers due to inaccurate timestamps. This tool will resolve this error by taking timeouts, spikes, and turnovers on downs and replacing the timestamp with the timestamp from the following line so that it will correctly reflect the amount of time that was left when the clock stopped. For instance, the previous example would now become:

```
2:12 2nd and 7 SEA - 34 Pass by Marteau, T., complete to Kavanagh, J. for 5 yds. Tackle by Hakora, R..
1:51 3rd and 2 SEA - 39 Seattle Predators : Timeout
1:51 3rd and 2 SEA - 39 Pass by Marteau, T., complete to Fourside, T. for -2 yds. Tackle by Backer, J..
```

Running the Play By Play through this tool will fix some of these common formatting issues in the Play By Play, which should make it a little easier for viewers to follow during the game.

### Inputs

- `Original Text`: The original text of the Play By Play.

### How to Use

Once you receive the Play By Play from the simmer, you can copy the entire text of the Play By Play from the forum and paste it into the Original Text box on this page and click Generate Output. (Note that when copying between the forums and the Original Text box, you may see extra blank lines added between the lines of the Play By Play. This is not an issue as the code will remove the blank lines before giving you your output.) Now you can copy the corrected version of the Play By Play from the Updated Text box. Note that unlike with the other tools, the output here is not HTML code but rather is the regular text version of the corrected version of the Play By Play. So you can handle it the same way you would normally handle the text of the Play By Play. Personally, what I like to do is send myself a message on the forum and paste the text of the Play By Play in there. That way I have the correct version of the Play By Play saved on the forum and can easily copy individual drives from there when creating the posts for the individual drives and it gives me a place on the forum where I can send the formatted versions of the post to myself first in order to see what the fully formatted version looks like before posting it in the game thread.

### Demo

https://user-images.githubusercontent.com/89674834/197662926-8111fa6c-1151-4e58-b11d-f9d35bb3ae33.mp4

## Single Post Formatter

### Purpose

The Single Post Formatter allows you to do the formatting for an individual post in your presentation. The post will display your provided commentary in bold at the bottom of the post and will also display a scoreboard of the current score and time underneath the commentary. It also allows you to add the following formatting features in the middle of the post:
- `Spoiler`: Puts all of the remaining text below the spoiler tag inside of a spoiler in the post. You can have nested spoilers if you include another spoiler tag below the previous spoiler tag.
- `GIF`: Allows the user to provide a link to a GIF and that GIF will be embeded in the post. Spoiler tags will also be added above and below so that the GIF will be hidden in a spoiler. (The reason for the spoiler before the GIF is that a GIF within a spoiler won't start playing until the viewer opens the spoiler, so you can ensure that it won't start playing before the viewer is ready to see the GIF play out. The reason for the spoiler after the GIF is so that the text of the plays after the GIF will be hidden until the viewer opens the spoiler so that the viewer will be able to watch the GIF without having the outcome spoiled by the text afterward. If you want a GIF without the spoilers, you can remove the spoiler tags and keep just the GIF tag.)
- `Commentary`: Used to add additional commentary in the middle of the post (if the only commentary that you want is the end of post commentary, you can just type that in the Commentary box). The commentary text will be bolded and will be on its own separate line with blank lines above and below.
- `Blank Line`: Used to add a blank line in the middle of the post. Because extra blank lines are usually created when copying from the forum to the Original Text box, all blank lines will be ignored when processing the text. If you want to add an actual blank line in the middle of the text, you can do it by using this tag.
- `Home Team Highlight`: Used to make big plays by the home team stand out from the other plays. The line will have bolded white text and will be highlighted with a background in the color of the home team's scoreboard color.
- `Away Team Highlight`: Used to make big plays by the away team stand out from the other plays. The line will have bolded white text and will be highlighted with a background in the color of the away team's scoreboard color.
- `Penalty Highlight`: Used to make penalties stand out from the other plays. The line will have black text and will be highlighed with a bright yellow background.
- `Clock Stoppage`: Used to make clock stoppages (timeouts and spikes) stand out from the other plays. The line with the clock stoppage will be bolded and underlined.

### Inputs

- `Original Text`: The original text of the portion of the Play By Play that you want to format (With tags added as needed for formating).
- `League`: Specify which league the game is from. This will determine the team options that are provided below.
- `Quarter`: The current quarter of the game. (Note that if you select one of the end of quarter options, it will automatically increment to the next quarter once you click Generate Output so that you don't have to update it again for the next post.)
- `Away Team`: The away team for the game.
- `Away Score`: The away team's current score.
- `Home Team`: The home team for the game.
- `Home Score`: The home team's current score.
- `Commentary`: The commentary that you want to provide at the end of the post.

### How to Use

Copy the portion of the Play By Play that you want to format and paste it in to the Original Text box. (Note that when copying between the forums and the Original Text box, you may see extra blank lines added between the lines of the Play By Play. This is not an issue as the code will remove the blank lines before giving you your output.) Now you can add any formatting you want in the body of the post by using the buttons below the Original Text box to add tags to the text. When you click one of those buttons, the specified tag will be added at your current cursor position. If you click the GIF button, you will be asked to provide the link of the GIF before the tag is created. If the tag you are adding is Spoiler, GIF, or Blank Line, it should be on its own line with no other text on that line. For the other tags, you should add them on the same line as the text you want to format. They can be placed at any position on the line as they will be removed from the text when the formatting is added. Note that you should not add more than one tag on one line as the post will not be formatted properly if you do so, only the formatting from the first tag will be applied and the second tag will remain in the text of the line. However, there shouldn't be any situation where you would need more than one of these tags in one line as the formatting they add conflicts with eachother. If you don't want to deal with the tags or you prefer to add your own style of formatting on the post, you can simply keep the original version of the text in the Original Text box and you can format it manually once you copy the post over to the forum. Once you have added all the tags that you want, you can fill in the other inputs as specified above and then click Generate Output. Copy the output from the Output box. Go to the place on the forum where you want to post it and click the Source button and paste the output that you copied earlier into the post and then click the Source button again to see the formatted version of the post. From here, you can manually edit the post if needed using the forum's regular editing tools and submit the post when it is ready.

### Demo

https://user-images.githubusercontent.com/89674834/197662962-9a0fd982-b7c4-41d3-9534-32bcd5f5f6b9.mp4

## Out of Town Scores Generator

### Purpose

The Out of Town Scores Generator is used to create scoreboards displaying the out of town scores, so that you can give score updates between quarters.

### Inputs

- `League`: Specify which league the scores are from. This will determine the team options that are provided below.
- `Quarter`: The quarter that just ended. (Note that it will automatically increment to the next quarter once you click Generate Output so that you don't have to update it again for the next post.)
- `Number of Scoreboards`: The number of games to create scoreboards for. The number of selections below will adjust when this value is updated.
- `Away Team #X`: The away team for game #X
- `Away Score #X`: The score of the away team for game #X
- `Home Team #X`: The home team for game #X
- `Home Score #X`: The score of the home team for game #X

### How to Use

Fill in each of the inputs with the value specified above and then click Generate Output. Copy the output from the Output box. Go to the place on the forum where you want to post it and click the Source button and paste the output that you copied earlier into the post and then click the Source button again to see the formatted version of the post. From here, you can manually edit the post if needed using the forum's regular editing tools and submit the post when it is ready.

### Demo

https://user-images.githubusercontent.com/89674834/197662984-2a41e047-16b5-4906-a234-09e16f105c61.mp4

## Boxscores Generator

### Purpose

The Boxscores Generator is used to display the boxscores at the end of the game. Each game's boxscore images will be hidden inside of a spoiler with the team logos above it.

### Inputs

- `League`: Specify which league the scores are from. This will determine the team options that are provided below.
- `Number of Boxscores`: The number of games to display boxscores for. The number of selections below will adjust when this value is updated.
- `Away Team #X`: The away team for game #X.
- `Home Team #X`: The home team for game #X.
- `Top Half URL #X`: The URL of the top half of the boxscore image for game #X.
- `Bottom Half URL #X`: The URL of the bottom half of the boxscore image for game #X.

### How to Use

Fill in each of the inputs with the value specified above and then click Generate Output. Copy the output from the Output box. Go to the place on the forum where you want to post it and click the Source button and paste the output that you copied earlier into the post and then click the Source button again to see the formatted version of the post. From here, you can manually edit the post if needed using the forum's regular editing tools and submit the post when it is ready.

### Demo

https://user-images.githubusercontent.com/89674834/197663013-e0f84865-0e29-4bb7-bbe7-64b98fc52680.mp4
